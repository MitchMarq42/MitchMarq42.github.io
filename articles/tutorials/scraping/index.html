<!doctype html><html lang=en><head><title>Scraping | MitchMarq42 の Blog</title><link rel=canonical href=https://mitchmarq42.xyz/><link rel=alternate type=application/rss+xml title="MitchMarq42 の Blog RSS" href=/index.xml><link rel=stylesheet type=text/css href=/style.css><link rel=icon href=/favicon.ico><meta name=description content="(This article is currently incomplete. I will work on it more later.)
Using sed and curl to extract information from webpages —-
Introduction I'll go over a bit more technicalities in my article on grep, but I wanted to discuss a practical use of UNIX command-line tools. This is also in relation to data-hoarding, but we'll get into that.
The problem Detective Conan is a very long-running anime. It is basiscally season-less and has been running more-or-less continuously since 1996."><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="index, follow"><meta charset=utf-8></head><body><main><header><h1>Scraping</h1></header><article><p>(This article is currently incomplete. I will work on it more later.)</p><div id=outline-container-headline-1 class=outline-2><h2 id=headline-1>Using <code class=verbatim>sed</code> and <code class=verbatim>curl</code> to extract information from webpages</h2><div id=outline-text-headline-1 class=outline-text-2><p>—-</p><div id=outline-container-headline-2 class=outline-3><h3 id=headline-2>Introduction</h3><div id=outline-text-headline-2 class=outline-text-3><p>I'll go over a bit more technicalities in my article on <code class=verbatim>grep</code>, but I wanted to discuss a practical use of UNIX command-line tools. This is also in relation to data-hoarding, but we'll get into that.</p></div></div><div id=outline-container-headline-3 class=outline-3><h3 id=headline-3>The problem</h3><div id=outline-text-headline-3 class=outline-text-3><p>Detective Conan is a very long-running anime. It is basiscally season-less and has been running more-or-less continuously since 1996. As of the time of writing, there are 1036 episodes out, and every week that number ticks up by one. It's also not a masterpiece, so about 42% of that is filler.
The easy solution is to just not watch it, but I think we can do better. Here is how I found a list of canon/plot-relevant episodes, and extracted that into something to be used with various other tools at my disposal– and how you can too!</p><p><code class=verbatim>=</code></p><p>First we google (or bing, or duck, or brave) for "detective conan list of important episodes". <a href="https://www.xerblade.com/p/detective-conan-important-episode-list.html?m=0">This</a> is the top result on Google and Brave, and is thankfully also the one I used in the past to come up with the following procedure.</p><p>In the browser, it's a pretty good page. Decorated but tasteful, modern but not bloated. Run basically by one guy, who strives to not use JavaScript as much as possible (an honorable goal).</p><p>But we're working in the command line. And on the command line, everything is reduced to plaintext. If you're lucky enough to not know what HTML looks like, here's a sample from the aformentioned page (obtained with <code class=verbatim>curl 'https://www.xerblade.com/p/detective-conan-important-episode-list.html?m=0'</code>):</p><div class="src src-html"><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>  &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-pos&#39;</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;=Main Plot=&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>p</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>li</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>li</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>p</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-pos&#39;</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;971-974&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; [INTL 1028-1031] (manga 1013-1017|V95F10-V96F3):&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span>&gt;Detective &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Chiba&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; and &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Miike&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development. &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Kuroda&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development. &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Amuro&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development. Plus a development for &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Yumi&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; and &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Shūkichi&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; in the background. &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-pos&#39;</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;=Main Plot=&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>p</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>li</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>li</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>p</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-pos&#39;</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;983-984&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; [INTL 1040-1041] (manga 1018-1021|V96F4-7):&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Heiji&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; case, &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Kaitō Kid&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;, &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Morofushi&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development, &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Amuro&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development, and &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Hiromitsu&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development. &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-pos&#39;</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;=Main Plot=&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>p</span>&gt;&lt;/<span style=color:#fb660a;font-weight:700>li</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>li</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>p</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-pos&#39;</span>&gt;&lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;993-995&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; [INTL 1050-1052] (manga 1022-1026|V96F8-V97F1):&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Sera Masumi&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development. Also, &lt;</span></span></code></pre></div></div><p>Sorry. You shouldn't have had to endure that. In fact, you probably didn't. I bet your eyes glazed over. In fact, this is just a segment from near the end of a <span style=text-decoration:underline>huge</span> pagagraph which actually contains everything we've been looking for. Obviously, just reading it like this isn't really doable. Let's chop it up into some better pieces.</p><p><code class=verbatim>sed</code> is a stream editor. You give it a stream of text, and it applies a rule or conversion to the text according to the expression you put after it (the first <strong>argument</strong>.) It is often used for search-and-replace.</p><p>For example, we can convert every instance of <code class=verbatim>>&lt;</code> to, say, <code class=verbatim>> &lt;</code> or better yet to</p><div class="src src-text"><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-text data-lang=text><span style=display:flex><span>&gt;
</span></span><span style=display:flex><span>&lt;</span></span></code></pre></div></div><p>Here's the command now:</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  curl <span style=color:#0086d2>&#39;https://www.xerblade.com/p/detective-conan-important-episode-list.html?m=0&#39;</span> | sed <span style=color:#0086d2>&#39;s/&gt;&lt;/&gt;\n&lt;/g&#39;</span></span></span></code></pre></div></div><p>The <code class=verbatim>s/thing1/thing2/g</code> tells <code class=verbatim>sed</code> to _S_ubstitute thing1 with thing2 _G_lobally, every time in the line. Without the <code class=verbatim>g</code> it would only do the first one (which is useful but not here). That <code class=verbatim>\n</code> is what's called a <strong>regular expression</strong>– this one specifically means "newline". You often can't type an actual Enter character on the command line because it'll try to execute, so using <code class=verbatim>\n</code> works better.</p><p>Anyway.</p><p>Now the bits of that paragraph each look something like this:</p><div class="src src-html"><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>  &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-pos&#39;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;971-974&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; [INTL 1028-1031] (manga 1013-1017|V95F10-V96F3):&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span>&gt;Detective &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Chiba&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; and &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Miike&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development. &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Kuroda&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development. &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Amuro&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; development. Plus a development for &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Yumi&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; and &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Shūkichi&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; in the background. &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-pos&#39;</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;=Main Plot=&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#fb660a;font-weight:700>p</span>&gt;
</span></span><span style=display:flex><span>  &lt;/<span style=color:#fb660a;font-weight:700>li</span>&gt;
</span></span><span style=display:flex><span>  &lt;<span style=color:#fb660a;font-weight:700>li</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>p</span>&gt;</span></span></code></pre></div></div><p>Not completely immune to overlong lines, but it's something.
Now pay attention to that line that says <code class=verbatim>class ='dc-list-no'>971-974&lt;/span></code>. If we go back to the browser and control-F '971-974' we find… that there are no results because the page is portioned out per hundred episodes. Let's click on the 900s tab and try again.</p><p>Aaand it looks like this:</p><p><strong>971-974</strong> [INTL 1028-1031] (manga 1013-1017|V95F10-V96F3): Detective Chiba and Miike development. Kuroda development. Amuro development. Plus a development for Yumi and Shūkichi in the background. \**Main Plot*\*</p><p>As you can see, the author has very kindly left a keyword next to every episode number or range that does not appear in the page itself: <code class=verbatim>dc-list-no</code>. Let's try <code class=verbatim>grep</code> ing the whole mess for that string.</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  curl <span style=color:#0086d2>&#39;https://www.xerblade.com/p/detective-conan-important-episode-list.html?m=0&#39;</span> | sed <span style=color:#0086d2>&#39;s/&gt;&lt;/&gt;\n&lt;/g&#39;</span> | grep <span style=color:#0086d2>&#39;dc-list-no&#39;</span></span></span></code></pre></div></div><p>Now we end up with blocks that look like</p><div class="src src-html"><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>  &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;971-974&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; [INTL 1028-1031] (manga 1013-1017|V95F10-V96F3):&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt; &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-char&#39;</span>&gt;Detective &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>lang</span>=<span style=color:#0086d2>&#39;ja-Latn&#39;</span>&gt;Chiba&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;
</span></span><span style=display:flex><span>    &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;*Main Plot*&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;</span></span></code></pre></div></div><p>Hmmm. Not perfect. But we're getting there. Most lines now either contain the episode numbers like we want, or not much numbers at all. There are some like</p><div class="src src-html"><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html><span style=display:flex><span>  &lt;<span style=color:#fb660a;font-weight:700>span</span> <span style=color:#ff0086;font-weight:700>class</span>=<span style=color:#0086d2>&#39;dc-list-no&#39;</span>&gt;(Both 1 Hour Specials)&lt;/<span style=color:#fb660a;font-weight:700>span</span>&gt;</span></span></code></pre></div></div><p>but that's probably alright as you'll see.</p><p>—-</p><p>What we can do now is filter for the numbers themselves. We know that there are <code class=verbatim>>&lt;</code> around the numbers, and they can be in either <code class=verbatim>XYY-XYZ</code> format, or just a single number.</p><p>In extended regex, a sequence in <code class=verbatim>[square brackets]</code> denotes a set of possible matches of each character. So, for example, <code class=verbatim>[ckq]</code> will match a lowercase c, or a lowercase k, or a lowercase q. The spec also allows for comon ranges, like <code class=verbatim>[A-Z]</code> (any uppercase letter), <code class=verbatim>[a-z]</code> (any lowercase letter), or for our use case, <code class=verbatim>[0-9]</code>, any single number digit.</p><p>So we can</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  curl <span style=color:#0086d2>&#39;https://www.xerblade.com/p/detective-conan-important-episode-list.html?m=0&#39;</span> | sed <span style=color:#0086d2>&#39;s/&gt;&lt;/&gt;\n&lt;/g&#39;</span> | grep <span style=color:#0086d2>&#39;dc-list-no&#39;</span> | sed &#39;s/</span></span></code></pre></div></div><p>… This is never getting finished. I don't have the time or energy.</p><p>Here's a better version by the legendary Chokerman:</p><div class="src src-shell"><div class=highlight><pre tabindex=0 style=color:#fff;background-color:#111;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>  curl -s <span style=color:#0086d2>&#39;https://www.xerblade.com/p/detective-conan-important-episode-list.html?m=0&#39;</span>|grep -Eo <span style=color:#0086d2>&#34;dc-list-no\&#39;&gt;[0-9].*?&lt;&#34;</span>|sed -nr <span style=color:#0086d2>&#39;s/.*&gt;(.*)&lt;.*/\1/p&#39;</span></span></span></code></pre></div></div><p>(inciting incident <a href=https://github.com/pystardust/ani-cli/issues/723>here</a>)</p></div></div></div></div><div id=nextprev><a href=/articles/selflangs/><div id=prevart>Previous:<br>Communication</div></a></div></article></main><footer><a href=https://mitchmarq42.xyz/>https://mitchmarq42.xyz/</a><br><br><a href=/index.xml><img src=/rss.svg style=max-height:1.5em alt="RSS Feed" title="Subscribe via RSS for updates."></a></footer></body></html>